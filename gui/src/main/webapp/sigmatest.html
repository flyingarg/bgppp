<html>
<head>
<style type="text/css">
#container {
	max-width: 400px;
	height: 400px;
	margin: auto;
}
</style>
</head>
<body onload="onLoadHere()">
<div id="container"></div>
<script src="scripts/sigma.min.js"></script>
<script src="scripts/jquery.js"></script>
<script src="scripts/sigma.parsers.json.min.js"></script>
<div id="container">
	<style>
#graph-container {
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	position: absolute;
}
	</style>
	<div id="graph-container"></div>
</div>
<script>
var result;
function graphInit(){
	var i,
		s,
		N = 100,
		E = 500,
		g = {
	nodes: [],
		   edges: []
		};
	//TODO : This is how we are accessing data from the URL bgppp/stats/all!!. Now we need to write a script that automatically 
	//reads the results and creates the required nodes and edges
	alert(result.nodes[0].id);
	g.nodes.push({
	id: result.nodes[0].id,
	label: result.nodes[0].name,
	x: Math.random(),
	y: Math.random(),
	size: Math.random(),
	color: '#333'
	});

	g.nodes.push({
	id: 'n1',
	label: 'Node 1',
	x: Math.random(),
	y: Math.random(),
	size: Math.random(),
	color: '#333'
	});

	g.edges.push({
	id: 'e',
	source: 'n1',
	target: result.nodes[0].id,
	size: Math.random(),
	color: '#ccc'
	});

	s = new sigma({
		graph: g,
		container: 'graph-container'
	});
}

//We can also get the data for a specific router
//use http://127.0.0.1:8787/bgppp/stats/R1 to get details of the router R1, one can also just paste these url's on the browser and check the output. !!
function onLoadHere(){
	$.ajax({
		url: 'http://127.0.0.1:8787/bgppp/stats/all',
		async: false,
		dataType: 'json',
		success: function (data) {
			result = data;
		}
	});
	graphInit();
}
</script>
</body>
</html>
